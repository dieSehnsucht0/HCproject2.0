import{r as g,w as de,o as D,c as h,a as l,b as e,F as A,d as O,e as E,f as F,g as Y,v as ut,t as w,h as ze,m as Q,n as Z,i as f,j as H,k as ae,l as ee,p as dt,q as vt,T as De,s as K,u as be,x as te,y as ne,z as ve,A as pt,B as mt,C as gt,D as ft,E as ht,P as kt,G as bt,H as Ct}from"./vue-FroRAIwS.js";import{p as yt,G as _t,g as wt}from"./pdfjs-ChVY3EiM.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))p(i);new MutationObserver(i=>{for(const v of i)if(v.type==="childList")for(const c of v.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&p(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const v={};return i.integrity&&(v.integrity=i.integrity),i.referrerPolicy&&(v.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?v.credentials="include":i.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function p(i){if(i.ep)return;i.ep=!0;const v=s(i);fetch(i.href,v)}})();const z=(k,n)=>{const s=k.__vccOpts||k;for(const[p,i]of n)s[p]=i;return s},$t={class:"modal-container"},jt={class:"modal-body"},Bt={class:"settings-section"},It={class:"language-options"},Tt=["value"],Ht={__name:"SettingsModal",emits:["close"],setup(k,{emit:n}){const s=g("zh-Hans"),p=n,i=g([{label:"简体中文",value:"zh-Hans",font:"SC_Font"},{label:"繁體中文",value:"zh-Hant",font:"TC_Font"},{label:"English",value:"en",font:"EN_Font"},{label:"日本語",value:"jp",font:"JP_Font"}]);de(s,c=>{const r=i.value.find(j=>j.value===c).font;document.documentElement.style.setProperty("--main-font",r),localStorage.setItem("selectedLanguage",c),localStorage.setItem("selectedFont",r)}),D(()=>{const c=localStorage.getItem("selectedLanguage");c&&(s.value=c)});const v=()=>{p("close")};return(c,r)=>(l(),h("div",{class:"modal-mask",onClick:E(v,["self"])},[e("div",$t,[e("div",{class:"modal-header"},[r[1]||(r[1]=e("h3",null,"设置",-1)),e("button",{class:"close-btn",onClick:v},"×")]),e("div",jt,[e("div",Bt,[r[2]||(r[2]=e("h4",null,"语言设置",-1)),e("div",It,[(l(!0),h(A,null,O(i.value,j=>(l(),h("label",{key:j.value},[F(e("input",{type:"radio","onUpdate:modelValue":r[0]||(r[0]=S=>s.value=S),value:j.value},null,8,Tt),[[ut,s.value]]),Y(" "+w(j.label),1)]))),128))])]),r[3]||(r[3]=e("div",{class:"settings-section"},[e("h4",null,"账户设置"),e("div",{class:"placeholder"},[e("p",null,"功能开发中...")])],-1))])])]))}},St=z(Ht,[["__scopeId","data-v-6a1fc317"]]),xt=`# 欢迎使用本应用\r
\r
虽然什么文件都能上传，但是目前文件上传只是能识别文字(文本文件之类的,上传之后可修改)，图片什么的都不行\r
\r
多体讨论的成员都是示例，之后会换\r
头像先不弄了\r
分体聊天的话建议先问它能干什么\r
祝您使用愉快！\r
`,Mt=`# 欢迎大家给出批评和建议\r
\r
最近每天都在研究这个，感觉好久没有那么沉浸了，意外地觉得要简单的多\r
反正不会的就问ai的，照做就行，稍微加上一点想法而已\r
\r
贴一下我的开发日记\r
\r
(如果我写了的话就更新)\r
\r
## 开发者日记\r
\r
## 04/21\r
\r
做什么项目都没定，组员也没有想法，果然只能靠我了吗，中午在宿舍胡思乱想，干脆想着就做一个方便我自己用的吧--空耳智能，发个不懂的空耳让ai给我解释，比现有的应用好点吧，不用自己搜,等着回答就完了\r
随便写一个简介：空耳智能旨在通过自然语言处理等技术解构网络流行的”空耳梗“。目前聚焦于日语空耳现象，旨在实现空耳回溯引擎，将中文谐音空耳还原为日语原文，实现”典故解析系统“，智能追溯空耳来源，精准识别如动漫台词，歌词片段等高频空耳场景的原始表达，打破语言与文化的次元壁。\r
似乎要考虑一下用户需求和市场价值，之后再说\r
\r
## 04/22\r
\r
今天问ai一堆想法，感觉还需要一个关键人物，最终也是成功多了一个助力\r
讨论一波还是有点没头绪，先堆了点提示词给ai，也是给出一个满意的回答了，但似乎已经做完了？我给deepseek稍微长一点的提示词，得到的输出甚至更为丰富,又得重想一下\r
\r
## 04/23\r
\r
今天又和学长进行了大讨论，似乎这个项目比我想象的要复杂的多，看来要做网页/app才好展示我的想法\r
语音输入似乎有点难搞，先放一放\r
看了相关文档，也是成功在vscode调用各种模型了，但似乎没什么用，不能展示，只能测试\r
初步确定分工了,不过其实也没什么大区别:设计和实现\r
\r
## 04/24\r
\r
这几天和ai对话太多了，估计以后都是了，deepseek一天十几次服务器繁忙，但是也大概搞明白了，就是做个网页，造出优秀的智能体，然后实现前端后端连接 有点复杂了好像，这是大一学生能做的吗 得考虑可行性\r
还得讨论一下有什么又价值又需求的功能，具体实现先放一边\r
\r
## 04/25\r
\r
今天终于学会了一点网页制作，也是成功做出了一个壳放到GitHub上了\r
还是比较激动的\r
\r
## 04/26\r
\r
今天又是有了重大突破，终于在我的网页上连上了智能体了，试着重写代码吧，文本终于ok了\r
但是问了ai之后发现有点逆天了，没有后端哈哈，直接暴露了apikey，得想一想怎么写后端\r
先不管了，忍不住想要给人分享测试一下，感觉还是有很大收获的\r
\r
## 04/27\r
\r
多搞了几个界面，还得实现优质输出，感觉可以调用几十个ai\r
\r
## 04/28\r
\r
今天啥也没干，明天再看项目\r
\r
## 04/29\r
\r
现在唯一的娱乐就是睡前看小说了，突然感觉每天都变得非常单一，似乎又沉浸了\r
要赶紧确定方案了，空耳先放一边\r
今天终于在服务器上搭建好后端了\r
但是，问了学长和ai之后才发现原来的设计大有问题:前端只有三个主文件html，css，js，代码有1千了，太长太难管了，后端也得换\r
努力到凌晨，终于换好了的说\r
\r
## 04/30\r
\r
今天才发现可以agent套agent，慢慢研究吧\r
也是实现了长期记忆和流式输出了，感觉输出速度还挺快\r
数学公式渲染也搞出来了，但是和我的空耳没啥关系\r
\r
## 05/05\r
\r
假期都在爽玩，啥也没干，不行了太困了，明天请假吧\r
\r
## 05/06\r
\r
今天是第二次给别人测试我的网页了，虽然还是有点问题，但是大概的逻辑已经搞明白了\r
现在还只会文本输入输出，其他的好难，单是网页上线就搞了两天，想加入一堆奇妙的模式\r
组员说学习模式和游戏模式，应该还不错，但是怎么越来越像多邻国了呢\r
做app吧，感觉没有做网页难\r
\r
## 05/07\r
\r
感觉还是缺了很多想法，之后看看账户设置功能\r
每天都和ai对话几个小时，感觉自己变成提示词大师了\r
\r
## 05/08\r
\r
还要想想数据库怎么弄，要是没有小说看我估计都坚持不下去吧，越来越困了，还得坚持跑步\r
\r
## 05/09\r
\r
只是添加一些界面就堆代码到了1万行，重复的逻辑太多了，还得提炼一下\r
今天想到了多体讨论的功能，不懂怎么弄，看看先，已经脱离空耳了，现在一堆模式，完全是另外一个项目了\r
再加个文件输入就不管了\r
\r
## 05/10\r
\r
今天终于真正确定好分工了,试一下吧\r
\r
## 05/11\r
\r
终于高出文件上传了，但是只能识别文字，实际上就是复制文字到输入框而已哈哈\r
\r
## 05/14\r
\r
居然忘记搞暂停了，幸好已经弄出了基类，不然累死人\r
少说话多做事\r
\r
## 05/15\r
\r
今天又是一个重大突破--造出app了，学了一个上午和中午也是有成果了，但是问题太多了，还得调整\r
\r
## 05/16\r
\r
今天把后端完善了一下，感觉现在更有动力了，灵感来了，时间怎么过的那么快，不够用了\r
app已经可以正常使用了，剩下的就是更新了\r
今天给人测试了一下我的app，感觉还是有很大的提升空间\r
\r
## 05/17\r
\r
早上起来看了一下怎么弄ios的，问了一下ai感觉还是算了，有点麻烦\r
因为路径问题de了两个小时，累死了\r
今天猛加一堆智能体，感觉差不多了\r
语言切换还没弄，之后看看\r
从起床就开始干\r
`,Lt={class:"modal-container"},At={class:"modal-body vertical-layout"},Pt={class:"top-tabs"},Et=["onClick"],Ot={class:"content-area"},Ft={class:"tab-content"},qt=["innerHTML"],Ut={__name:"HelpModal",emits:["close"],setup(k,{emit:n}){const s=n,p=g("statement"),i=[{id:"statement",title:"开发感想"},{id:"guide",title:"使用手册"}],v={statement:Mt,guide:xt},c=ze(()=>Q(v[p.value])),r=()=>{s("close")};return(j,S)=>(l(),h("div",{class:"modal-mask",onClick:E(r,["self"])},[e("div",Lt,[e("div",{class:"modal-header"},[S[0]||(S[0]=e("h3",null,"说明",-1)),e("button",{class:"close-btn",onClick:r},"×")]),e("div",At,[e("div",Pt,[(l(),h(A,null,O(i,y=>e("button",{key:y.id,onClick:B=>p.value=y.id,class:Z({active:p.value===y.id})},w(y.title),11,Et)),64))]),e("div",Ot,[e("div",Ft,[e("div",{class:"scroll-content",innerHTML:c.value},null,8,qt)])])])])]))}},Rt=z(Ut,[["__scopeId","data-v-13f04076"]]),Jt={id:"welcome-screen",class:"screen"},Dt={class:"lefttop"},zt={class:"container"},Nt={class:"welcome-group-btn"},Wt={__name:"WelcomeScreen",setup(k){const n=g(!1),s=g(!1);return(p,i)=>(l(),h("section",Jt,[e("div",Dt,[e("button",{class:"settings-btn",onClick:i[0]||(i[0]=v=>n.value=!0)},i[6]||(i[6]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M19.4 15C18.85 13.75 18.85 12.25 19.4 11L21.5 7.5C19.5 5.25 16.5 4 13.4 4L10.6 4C7.5 4 4.5 5.25 2.5 7.5L4.6 11C5.15 12.25 5.15 13.75 4.6 15L2.5 18.5C4.5 20.75 7.5 22 10.6 22L13.4 22C16.5 22 19.5 20.75 21.5 18.5L19.4 15Z",stroke:"currentColor","stroke-width":"2"})],-1)])),e("button",{class:"settings-btn",style:{top:"50px"},onClick:i[1]||(i[1]=v=>s.value=!0)},i[7]||(i[7]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M12 16V12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"}),e("path",{d:"M12 8H12.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)]))]),e("div",zt,[i[8]||(i[8]=e("h1",null,"言葉瞳1.1",-1)),i[9]||(i[9]=e("p",{class:"subtitle"},"Created by HC",-1)),e("div",Nt,[e("button",{id:"start-btn",class:"anime-btn",onClick:i[2]||(i[2]=v=>p.$emit("start"))},"多体讨论"),e("button",{id:"quick-chat-btn",class:"anime-btn",onClick:i[3]||(i[3]=v=>p.$emit("quick-chat"))},"分体聊天")])]),n.value?(l(),f(St,{key:0,onClose:i[4]||(i[4]=v=>n.value=!1)})):H("",!0),s.value?(l(),f(Rt,{key:1,onClose:i[5]||(i[5]=v=>s.value=!1)})):H("",!0)]))}},Gt=z(Wt,[["__scopeId","data-v-b8e57f9c"]]),Vt={class:"thinking-indicator"},Qt=["src"],Kt={class:"thinking-time"},Zt={__name:"ThinkingIndicator",props:["show","avatar","time"],setup(k){return(n,s)=>F((l(),h("div",Vt,[e("img",{src:k.avatar,class:"thinking-avatar",alt:"Agent Avatar"},null,8,Qt),s[0]||(s[0]=e("span",{class:"thinking-text"},"正在努力思考中 ~ 🧠",-1)),e("span",Kt,w(k.time),1)],512)),[[ae,k.show]])}},Xt=z(Zt,[["__scopeId","data-v-29c675a2"]]),Yt=["id"],ea={key:0,class:"file-modal"},ta={class:"modal-content"},aa=["src"],na=["placeholder"],sa={class:"lefttop-container"},oa={class:"lefttop-first-container"},la={class:"lefttop-second-container"},ra={class:"session-sidebar"},ia={class:"sessions-header"},ca={key:0,class:"bg-options-menu"},ua={class:"sessions-list-container"},da={class:"sessions-list"},va=["onClick"],pa={class:"session-time"},ma=["onClick"],ga={class:"righttop-container"},fa={class:"chat-container"},ha={key:0,class:"message user-message fade-in"},ka={key:0,class:"attached-files"},ba={class:"user-message-content",style:{"white-space":"pre-wrap"}},Ca={key:1,class:"agent-message-with-avatar fade-in"},ya=["src"],_a={class:"agent-message-bubble stream-container"},wa=["innerHTML"],$a=["onClick"],ja={key:0,class:"file-previews"},Ba={class:"card-header"},Ia={class:"file-meta"},Ta={class:"file-name"},Ha={class:"file-size"},Sa={class:"file-actions"},xa=["onClick"],Ma=["onClick"],La=["onClick"],Aa={class:"input-area"},Pa=["onKeypress","disabled"],Ea={class:"input-tools"},Oa=["disabled"],Fa={key:0,class:"fas fa-pause"},qa={key:1,class:"fas fa-comments"},Ua={key:2,class:"fas fa-paper-plane"},Ra="https://hc.1343263.xyz/api/process",Ja={__name:"BaseChat",props:{chatId:String,chatTitle:String,defaultBg:String,avatarPath:String,mode:String,selectedAgents:{type:Array,default:()=>[]}},emits:["back"],setup(k,{expose:n,emit:s}){_t.workerSrc=yt;const p=g(!1),i=g(null),v=g(""),c=g(!0),r=k,j=g(!1),S=g("#ffffff"),y=a=>{J.value.startsWith("blob:")&&URL.revokeObjectURL(J.value),document.getElementById(r.chatId).style.backgroundImage="none",document.getElementById(r.chatId).style.backgroundColor=a,localStorage.setItem(`${r.chatId}-bg-type`,"color"),localStorage.setItem(`${r.chatId}-bg`,a),J.value=a,j.value=!1},B=a=>{const t=document.querySelector(".bg-options-menu"),u=document.querySelector(".color-picker-container"),o=a.target.closest('input[type="color"]');!t.contains(a.target)&&!u.contains(a.target)&&!o&&(j.value=!1)};D(()=>{document.addEventListener("click",B)}),ee(()=>{document.removeEventListener("click",B)});const x=()=>{R.value?Ce():fe()},Ce=()=>{if(p.value=!0,i.value){i.value.abort(),i.value=null;const t=_[L.value].messages.findLast(u=>u.sender==="agent"&&!u.finished);t&&(t.finished=!0,t.html=Q.parse(t.content))}v.value=""},Ne=()=>{p.value=!1,fe(v.value)},N=dt("showToast"),ye=g(null),_e=g(!1),q=g(r.mode),P=g([r.avatarPath]),X=g(0),M=g([]),U=g(""),R=g(!1),G=g("0.0s"),we=g(null),_=vt([]),L=g(0),I=g(null),pe=g(!0),We=g(null),se=g(!1),$e=g(""),me=g(""),oe=g(""),ge=g(-1),le=g(!1),J=g(r.defaultBg),je=g(null),Ge=g(r.defaultBg),Be=ze(()=>`${r.chatId}-sessions`),Ve=()=>{try{const a=localStorage.getItem(Be.value);a&&(_.splice(0,_.length,...JSON.parse(a).map(t=>({...t,startTime:new Date(t.startTime),messages:t.messages.map(u=>({...u,timestamp:u.timestamp?new Date(u.timestamp):new Date}))}))),L.value=_.length>0?0:-1)}catch(a){console.error("读取会话失败:",a)}},Ie=()=>{try{const a=_.map(t=>({...t,startTime:t.startTime.getTime(),messages:t.messages.map(u=>{var o;return{...u,timestamp:((o=u.timestamp)==null?void 0:o.getTime())||Date.now()}})}));localStorage.setItem(Be.value,JSON.stringify(a))}catch(a){console.error("保存会话失败:",a)}},Qe=()=>{localStorage.removeItem(`${r.chatId}-bg`),re(r.defaultBg),N("已恢复默认背景")},re=a=>{document.getElementById(r.chatId).style.backgroundColor="",J.value.startsWith("blob:")&&URL.revokeObjectURL(J.value),J.value=a,document.getElementById(r.chatId).style.backgroundImage=`url(${a})`,localStorage.setItem(`${r.chatId}-bg-type`,"image")},Ke=()=>{je.value.click()},Ze=a=>{const t=a.target.files[0];if(t){const u=new FileReader;u.onload=o=>{const m=o.target.result;re(m),localStorage.setItem(`${r.chatId}-bg`,m)},u.readAsDataURL(t)}};ee(()=>{J.value.startsWith("blob:")&&URL.revokeObjectURL(J.value)}),D(()=>{const a=localStorage.getItem(`${r.chatId}-bg-type`),t=localStorage.getItem(`${r.chatId}-bg`);t?a==="color"?(document.getElementById(r.chatId).style.backgroundColor=t,document.getElementById(r.chatId).style.backgroundImage="none"):re(t):re(Ge.value)});const Xe=()=>{se.value=!1,me.value.startsWith("blob:")&&URL.revokeObjectURL(me.value)},Ye=a=>{const t=URL.createObjectURL(a.raw),u=window.open(t,"_blank");setTimeout(()=>{if(!u||u.closed){N("请在浏览器设置中允许弹出窗口，或长按链接选择打开方式");const o=document.createElement("a");o.href=t,o.download=a.name,document.body.appendChild(o),o.click(),document.body.removeChild(o)}},500),u==null||u.addEventListener("beforeunload",()=>{URL.revokeObjectURL(t)})},et=(a,t)=>{const o=[];for(let d=0;d<a.length;d+=100)o.push(a.slice(d,d+100));const m=document.createDocumentFragment();return o.forEach(d=>{const b=document.createElement("span");b.textContent=d,m.appendChild(b)}),{safeContent:t+a,buffer:"",hasPendingCode:!1}},tt=(a,t)=>{oe.value=a.content,ge.value=t,$e.value=`编辑内容 - ${a.name}`,le.value=!1,se.value=!0},at=()=>{ge.value>=0&&(M.value[ge.value].content=oe.value,se.value=!1,N("修改已保存"))};D(async()=>{await De.createWorker(),_e.value=!0}),ee(async()=>{ye.value&&await ye.value.terminate()}),D(()=>{I.value&&I.value.addEventListener("scroll",ie),_.length===0&&V()}),ee(()=>{I.value&&I.value.removeEventListener("scroll",ie)});const Te=async(a,t)=>{try{if(a.type.startsWith("image/")){if(!_e.value)throw new Error("OCR引擎初始化中，请稍后");const{data:{text:m}}=await De.recognize(a);return m}if(a.type==="application/pdf"){const d=await wt({data:new Uint8Array(t)}).promise;let b="";for(let C=1;C<=d.numPages;C++){const ue=await(await d.getPage(C)).getTextContent();b+=ue.items.map(T=>T.str).join(`
`)+`
`}return b}if(a.name.endsWith(".docx"))return(await ht.extractRawText({arrayBuffer:t})).value.replace(/\n{3,}/g,`

`);if(a.name.endsWith(".pptx")){const m=new kt;return await m.load(t),m.slides.flatMap(d=>d.shapes.filter(b=>b.text).map(b=>b.text)).join(`

`)}const u=["utf-8","gbk","gb2312","big5","shift_jis","windows-1252"];let o="";for(const m of u)try{if(o=new TextDecoder(m,{fatal:!0}).decode(new Uint8Array(t)),!nt(o))return o}catch{continue}return o.replace(/[^\x00-\x7F]/g,"")}catch(u){throw console.error("文件解析错误:",u),new Error(`文件解析失败: ${u.message}`)}},nt=a=>/[\x00-\x08\x0B-\x0C\x0E-\x1F]/.test(a),He=a=>{if(a===0)return"0 Bytes";const t=1024,u=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,o)).toFixed(2))+" "+u[o]},Se=async a=>{const t=Array.from(a.target.files);for(const u of t)try{const o={name:u.name,size:u.size,content:"",raw:u,icon:Me(u.name),progress:0,status:"解析中...",isExpanded:!1};M.value.push(o);const m=await xe(u,d=>{o.progress=Math.floor(d*100)});o.content=m,o.status="解析完成",o.progress=100}catch(o){fileItem.status=`解析失败: ${o.message}`,fileItem.progress=0,N(`${u.name} 处理失败: ${o.message}`)}a.target.value=""},xe=(a,t)=>new Promise((u,o)=>{const m=new FileReader;let d=0;m.onprogress=b=>{if(b.lengthComputable){const C=b.loaded/b.total;C-d>.05&&(t==null||t(C),d=C)}},m.onload=async b=>{try{const C=await Te(a,b.target.result);u(C)}catch(C){o(C)}},m.onerror=o,m.readAsArrayBuffer(a)}),Me=a=>{const t=a.split(".").pop().toLowerCase();return`fas ${{pdf:"fa-file-pdf",jpg:"fa-file-image",png:"fa-file-image",doc:"fa-file-word",docx:"fa-file-word",ppt:"fa-file-powerpoint",pptx:"fa-file-powerpoint",txt:"fa-file-alt"}[t]||"fa-file"}`},Le=a=>{M.value.splice(a,1)};function V(){_.push({id:_.length,messages:[],startTime:new Date,avatar:P.value[X.value]}),L.value=_.length-1,K(ce)}function Ae(a){L.value=a,K(ce)}function Pe(a){return/```[\s\S]*?```/g.test(a)}function Ee(a){const t=a.match(/```[\s\S]*?```/g);return t?t.map(u=>u.replace(/```[\s\S]*?\n/,"").replace(/```$/,"")):[]}async function Oe(a){try{await navigator.clipboard.writeText(a),N("代码已复制到剪贴板！")}catch{N("复制失败，请手动选择复制")}}async function Fe(a=""){if(p.value){Ne();return}const t=_[L.value],u=t.messages.flatMap(d=>{var C;const b=d.sender==="user"?{role:"user",content:d.content+((C=d.files)!=null&&C.length?`
[附件内容]
`+d.files.map(W=>W.content).join(`
`):"")}:{role:"assistant",content:d.content};return r.selectedAgents.length>=2?[b]:d.sender==="user"?[b]:[]});let o="";if(r.selectedAgents.length>1)o=u.map(d=>`${d.role==="user"?"[用户]":`[${q.value}]`} ${d.content}`).join(`

`);else{const d=U.value.trim(),b=M.value.map(C=>C.content.trim()).join(`

`);o=[d,b].filter(C=>C.length>0).join(`

`)}if(!o.trim()){N("请输入内容或上传文件");return}!a&&r.selectedAgents.length<2&&t.messages.push({sender:"user",content:U.value,files:[...M.value]}),i.value=new AbortController,R.value=!0,p.value=!1;let m=a;st();try{const d=await fetch(Ra,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputText:o,agentMode:q.value,history:u,currentAgent:q.value}),signal:i.value.signal});if(!d.ok)throw new Error(await d.text());const b=d.body.getReader(),C=new TextDecoder;let W="",ue=!0,T=null,qe="",Ue=!1;for(;!p.value;){const{done:rt,value:it}=await b.read();if(rt)break;W+=C.decode(it,{stream:!0});const Re=W.split(`
`);W=Re.pop()||"";for(const Je of Re){if(!Je.trim())continue;const he=JSON.parse(Je);if(he.error)throw new Error(he.error);const ke=et(he.content,qe),ct=ke.safeContent;qe=ke.buffer,Ue=ke.hasPendingCode,ue&&(T={sender:"agent",content:"",html:'<span class="blinking-cursor">|</span>',avatar:P.value[X.value],finished:!1,agentMode:q.value},t.messages.push(T),ue=!1),m+=ct,v.value=m,T.content=m,Ue?T.html=Q.parse(m+"```")+'<span class="blinking-cursor">|</span><div class="pending-code">代码生成中...</div>':(T.html=Q.parse(m)+'<span class="blinking-cursor">|</span>',window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,I.value])),await K(),ce(),window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,I.value])}}T&&(typeof m=="string"&&(T.html=Q.parse(m).replace('<span class="blinking-cursor">|</span>',""),T.content=m,T.rawContent=m),T.time=G.value,T.finished=!0)}catch(d){d.name!=="AbortError"||console.log("请求已中止")}finally{r.selectedAgents.length<2&&(U.value="",M.value=[]),lt(),R.value=!1,i.value=null,v.value="",await K(),p.value=!1,window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,I.value])}}async function fe(){if(r.selectedAgents.length>=2){const a=_[L.value];a.messages.push({sender:"user",content:U.value,files:[...M.value]});let t=[...a.messages];for(let u=0;u<r.selectedAgents.length;u++){q.value=r.selectedAgents[u];const o=`/HCproject2.0/avatar/${q.value}.jpg`;P.value.includes(o)||(P.value=[o]),X.value=P.value.indexOf(o),t.map(d=>({role:d.sender==="user"?"user":"assistant",content:d.sender==="agent"?d.rawContent:d.content})),await Fe("");const m=a.messages[a.messages.length-1];t.push(m)}}else{if(r.selectedAgents.length==1){q.value=r.selectedAgents[0];const a=`/avatar/${q.value}.jpg`;P.value.includes(a)||(P.value=[a]),X.value=P.value.indexOf(a)}Fe()}U.value="",M.value=[]}function st(){let a=Date.now();G.value="0.0s",we.value=setInterval(()=>{G.value=((Date.now()-a)/1e3).toFixed(1)+"s"},100)}function ot(a){_.length>1?L.value=a>0?a-1:0:V(),_.splice(a,1),_.length===0&&V(),Ie()}function lt(){clearInterval(we.value),G.value="0.0s"}function ie(){const a=I.value;a&&(pe.value=a.scrollHeight-a.scrollTop-a.clientHeight<2)}const ce=()=>{if(!I.value||!pe.value)return;const a=I.value;requestAnimationFrame(()=>{a.scrollTop=a.scrollHeight})};return de(()=>_,a=>{Ie()},{deep:!0}),D(()=>{Ve(),_.length===0&&V()}),de(()=>{var a;return(a=_[L.value])==null?void 0:a.messages.length},async()=>{await K(),window.MathJax&&I.value&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,I.value])}),n({isThinking:R,thinkingTime:G,sessions:_,activeSessionIndex:L,chatHistoryRef:I,files:M,inputText:U,handleFileUpload:Se,removeFile:Le,createNewChat:V,switchToSession:Ae,scrollToBottom:ce,formatFileSize:He,getFileIcon:Me,parseAnyFile:Te,readFileContent:xe,hasCodeBlocks:Pe,getCodeBlocks:Ee,copyToClipboard:Oe,onChatHistoryScroll:ie,autoScroll:pe}),(a,t)=>{var u;return l(),h("section",{id:k.chatId,class:"screen"},[se.value?(l(),h("div",ea,[e("div",ta,[e("span",{class:"close",onClick:Xe},"×"),e("h3",null,w($e.value),1),le.value?(l(),h("img",{key:0,src:me.value,class:"file-preview-image"},null,8,aa)):F((l(),h("textarea",{key:1,"onUpdate:modelValue":t[0]||(t[0]=o=>oe.value=o),class:"file-content-editor",placeholder:le.value?"图片不可编辑":"在此编辑文件内容"},null,8,na)),[[be,oe.value]]),le.value?H("",!0):(l(),h("button",{key:2,class:"anime-btn save-btn",onClick:at}," 保存 "))])])):H("",!0),e("div",sa,[e("div",oa,[e("button",{class:"anime-btn back-btn",onClick:t[1]||(t[1]=o=>a.$emit("back"))},t[10]||(t[10]=[e("i",{class:"fas fa-arrow-left"},null,-1)]))]),e("div",la,[F(e("button",{class:"expand-btn",onClick:t[2]||(t[2]=o=>c.value=!c.value)},t[11]||(t[11]=[e("i",{class:"fas fa-chevron-right"},null,-1)]),512),[[ae,c.value]])]),te(ve,{name:"slide"},{default:ne(()=>[F(e("div",ra,[e("div",ia,[t[19]||(t[19]=e("h3",null,"历史",-1)),e("button",{class:"anime-btn",onClick:V},t[12]||(t[12]=[e("i",{class:"fas fa-plus"},null,-1)])),e("button",{class:"anime-btn",onClick:t[3]||(t[3]=E(o=>j.value=!j.value,["stop"])),title:"背景设置"},t[13]||(t[13]=[e("i",{class:"fas fa-palette"},null,-1)])),te(ve,{name:"fade"},{default:ne(()=>[j.value?(l(),h("div",ca,[e("div",{class:"bg-option",onClick:Ke},[t[14]||(t[14]=e("i",{class:"fas fa-image"},null,-1)),t[15]||(t[15]=Y(" 自定义背景 ")),e("input",{type:"file",ref_key:"bgInput",ref:je,accept:"image/*",onChange:Ze,style:{display:"none"}},null,544)]),e("div",{class:"bg-option",onClick:Qe},t[16]||(t[16]=[e("i",{class:"fas fa-undo"},null,-1),Y(" 恢复默认 ")])),e("div",{class:"color-picker-container",onClick:t[6]||(t[6]=E(()=>{},["stop"]))},[e("div",{class:"color-preview",style:pt({background:S.value})},null,4),t[17]||(t[17]=Y(" 自定义颜色 ")),F(e("input",{type:"color","onUpdate:modelValue":t[4]||(t[4]=o=>S.value=o),onInput:t[5]||(t[5]=E(o=>y(S.value),["stop"])),class:"color-picker"},null,544),[[be,S.value]])])])):H("",!0)]),_:1}),e("button",{class:"collapse-btn",onClick:t[7]||(t[7]=o=>c.value=!c.value)},t[18]||(t[18]=[e("i",{class:"fas fa-chevron-left"},null,-1)]))]),e("div",ua,[e("div",da,[(l(!0),h(A,null,O(_,(o,m)=>{var d,b;return l(),h("div",{key:o.id,class:Z(["session-item",{active:m===L.value}]),onClick:C=>Ae(m)},[e("div",null," 会话 "+w(m+1)+": "+w((b=(d=o.messages[o.messages.length-1])==null?void 0:d.content)==null?void 0:b.slice(0,20)),1),e("div",pa,w(o.startTime.toLocaleTimeString()),1),e("button",{class:"delete-session-btn",title:"清空本会话",onClick:E(C=>ot(m),["stop"])},t[20]||(t[20]=[e("i",{class:"fas fa-trash-alt"},null,-1)]),8,ma)],10,va)}),128))])])],512),[[ae,!c.value]])]),_:1})]),e("div",ga,[mt(a.$slots,"righttop",{},void 0)]),e("h1",null,w(k.chatTitle),1),t[26]||(t[26]=e("div",{class:"leftbottom-container"},null,-1)),e("div",fa,[te(Xt,{show:R.value,avatar:P.value[X.value],time:G.value},null,8,["show","avatar","time"]),e("div",{class:"chat-history",ref_key:"chatHistoryRef",ref:I,onScroll:ie},[(l(!0),h(A,null,O((u=_[L.value])==null?void 0:u.messages,(o,m)=>{var d;return l(),h(A,{key:m},[o.sender==="user"?(l(),h("div",ha,[(d=o.files)!=null&&d.length?(l(),h("div",ka,[(l(!0),h(A,null,O(o.files,(b,C)=>(l(),h("div",{key:C,class:"file-tag"},[e("i",{class:Z(b.icon)},null,2),Y(" "+w(b.name),1)]))),128))])):H("",!0),e("div",ba,w(o.content),1)])):(l(),h("div",Ca,[e("img",{src:o.avatar||P.value[0],class:"agent-avatar"},null,8,ya),e("div",_a,[e("div",{class:"stream-content",innerHTML:o.rawContent?gt(Q).parse(o.rawContent):o.html},null,8,wa),Pe(o.content)?(l(!0),h(A,{key:0},O(Ee(o.content),(b,C)=>(l(),h("div",{class:"code-copy-container",key:C},[e("pre",null,[e("code",null,w(b),1)]),e("button",{class:"copy-btn",onClick:W=>Oe(b),title:"复制代码"},t[21]||(t[21]=[e("i",{class:"fas fa-copy"},null,-1)]),8,$a)]))),128)):H("",!0)])]))],64)}),128))],544),M.value.length>0?(l(),h("div",ja,[(l(!0),h(A,null,O(M.value,(o,m)=>(l(),h("div",{key:m,class:Z(["file-card",{expanded:o.isExpanded}])},[e("div",Ba,[e("i",{class:Z(o.icon)},null,2),e("div",Ia,[e("span",Ta,w(o.name),1),e("span",Ha,w(He(o.size)),1)]),e("div",Sa,[e("button",{class:"action-btn view-btn",onClick:E(d=>Ye(o),["stop"])},t[22]||(t[22]=[e("i",{class:"fas fa-eye"},null,-1)]),8,xa),e("button",{class:"action-btn edit-btn",onClick:E(d=>tt(o,m),["stop"])},t[23]||(t[23]=[e("i",{class:"fas fa-edit"},null,-1)]),8,Ma),e("button",{class:"action-btn delete-btn",onClick:E(d=>Le(m),["stop"])},t[24]||(t[24]=[e("i",{class:"fas fa-times"},null,-1)]),8,La)])])],2))),128))])):H("",!0),e("div",Aa,[F(e("textarea",{id:"text-input-field","onUpdate:modelValue":t[8]||(t[8]=o=>U.value=o),placeholder:"请输入...",onKeypress:ft(E(fe,["prevent"]),["enter"]),disabled:R.value},null,40,Pa),[[be,U.value]]),e("div",Ea,[e("input",{type:"file",class:"tool-btn",style:{display:"none"},ref_key:"fileInput",ref:We,onChange:Se,multiple:"",accept:"*/*"},null,544),e("button",{class:"tool-btn",onClick:t[9]||(t[9]=o=>a.$refs.fileInput.click()),disabled:R.value},t[25]||(t[25]=[e("i",{class:"fas fa-file-upload"},null,-1)]),8,Oa),e("button",{class:"tool-btn",onClick:x},[R.value?(l(),h("i",Fa)):k.selectedAgents.length>=2?(l(),h("i",qa)):(l(),h("i",Ua))])])])])],8,Yt)}}},$=z(Ja,[["__scopeId","data-v-2556ef73"]]),Da={class:"agent-sidebar"},za={class:"sessions-header"},Na={class:"sidebar-header-row"},Wa={class:"agent-list"},Ga=["onClick"],Va=["src"],Qa={key:0,class:"selected-indicator"},Ka={class:"agent-info"},Za={class:"agent-name"},Xa={class:"agent-mode"},Ya={key:1,class:"fas fa-check selected-icon"},en={__name:"GroupDiscussionChat",emits:["back"],setup(k,{emit:n}){const s=g(!0);function p(){s.value=!s.value}const i=g(null),v=g([]),c=g([{mode:"soul",name:"心灵导师",avatar:"/HCproject2.0/avatar/soul.jpg"},{mode:"misheard",name:"空耳专家",avatar:"/HCproject2.0/avatar/misheard.jpg"},{mode:"correction",name:"语法医生",avatar:"/HCproject2.0/avatar/correction.jpg"},{mode:"stem",name:"科学大家",avatar:"/HCproject2.0/avatar/stem.jpg"},{mode:"culture",name:"文化学者",avatar:"/HCproject2.0/avatar/culture.jpg"},{mode:"dialect",name:"方言达人",avatar:"/HCproject2.0/avatar/dialect.jpg"},{mode:"super-translate",name:"翻译大师",avatar:"/HCproject2.0/avatar/super-translate.jpg"},{mode:"game-misheard",name:"空耳游戏王",avatar:"/HCproject2.0/avatar/game-misheard.jpg"},{mode:"game-word",name:"字词专家",avatar:"/HCproject2.0/avatar/game-word.jpg"},{mode:"dream-weaver",name:"梦境编织者",avatar:"/HCproject2.0/avatar/dream-weaver.jpg"},{mode:"fantasy-master",name:"幻想者",avatar:"/HCproject2.0/avatar/fantasy-master.jpg"},{mode:"glitch-space",name:"失控人士",avatar:"/HCproject2.0/avatar/glitch-space.jpg"},{mode:"ln-factory",name:"小说大家",avatar:"/HCproject2.0/avatar/ln-factory.jpg"},{mode:"proto-jin",name:"言灵法师",avatar:"/HCproject2.0/avatar/proto-jin.jpg"},{mode:"self-splitter",name:"拆解大师",avatar:"/HCproject2.0/avatar/self-splitter.jpg"},{mode:"unconscious",name:"潜灵大师",avatar:"/HCproject2.0/avatar/unconscious.jpg"}]),r=g(new AbortController),j=y=>v.value.includes(y),S=y=>{const B=v.value.indexOf(y);B>-1?v.value.splice(B,1):v.value.length<16&&v.value.push(y),v.value=[...v.value],i.value.selectedAgents=[...v.value]};return D(()=>{K(()=>{var y,B;((B=(y=i.value)==null?void 0:y.sessions)==null?void 0:B.length)===0&&i.value.createNewChat()})}),ee(()=>{var y;(y=r.value)==null||y.abort()}),de(v,y=>{localStorage.setItem("group-selected-agents",JSON.stringify(y))}),D(()=>{const y=localStorage.getItem("group-selected-agents");y&&(v.value=JSON.parse(y),i.value.selectedAgents=[...v.value])}),(y,B)=>(l(),f($,{ref_key:"baseChat",ref:i,chatId:"group-discussion",chatTitle:"多体讨论 ("+v.value.length+"/16)",defaultBg:"/HCproject2.0/bg/groupdiscussion-bg.jpg",mode:"zero",selectedAgents:v.value,avatarPath:"/HCproject2.0/avatar/zero.gif",onBack:B[0]||(B[0]=x=>y.$emit("back"))},{righttop:ne(()=>[te(ve,{name:"slide"},{default:ne(()=>[F(e("div",Da,[e("div",za,[e("div",Na,[e("button",{class:"collapse-btn",onClick:p},B[1]||(B[1]=[e("i",{class:"fas fa-chevron-right"},null,-1)])),e("h2",null,"讨论成员（"+w(v.value.length)+"/16）",1)])]),e("div",Wa,[(l(!0),h(A,null,O(c.value,x=>(l(),h("div",{key:x.mode,class:Z(["agent-item",{selected:j(x.mode)}]),onClick:Ce=>S(x.mode)},[e("img",{src:x.avatar,class:"agent-avatar"},null,8,Va),j(x.mode)?(l(),h("div",Qa)):H("",!0),e("div",Ka,[e("span",Za,w(x.name),1),e("span",Xa,w(x.mode),1)]),j(x.mode)?(l(),h("i",Ya)):H("",!0)],10,Ga))),128))])],512),[[ae,!s.value]])]),_:1}),F(e("button",{class:"expand-btn",onClick:p},B[2]||(B[2]=[e("i",{class:"fas fa-chevron-left"},null,-1)]),512),[[ae,s.value]])]),_:1},8,["chatTitle","selectedAgents"]))}},tn=z(en,[["__scopeId","data-v-e0812d16"]]),an={__name:"SoulChat",setup(k){return(n,s)=>(l(),f($,{chatId:"soul-chat",chatTitle:"心灵空间",defaultBg:"/HCproject2.0/bg/soul-bg.jpg",avatarPath:"/HCproject2.0/avatar/soul.jpg",mode:"soul",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},nn={__name:"MisheardChat",setup(k){return(n,s)=>(l(),f($,{chatId:"misheard-chat",chatTitle:"空耳查询",defaultBg:"/HCproject2.0/bg/misheard-bg.jpg",avatarPath:"/HCproject2.0/avatar/misheard.jpg",mode:"misheard",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},sn={__name:"CorrectionChat",setup(k){return(n,s)=>(l(),f($,{chatId:"correction-chat",chatTitle:"语言纠错",defaultBg:"/HCproject2.0/bg/correction-bg.jpg",avatarPath:"/HCproject2.0/avatar/correction.jpg",mode:"correction",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},on={class:"toast show"},ln={class:"toast-content"},rn={__name:"Toast",props:["message"],setup(k){return(n,s)=>(l(),h("div",on,[e("div",ln,w(k.message),1)]))}},cn=z(rn,[["__scopeId","data-v-9f189b94"]]),un={__name:"GameMisheardChat",setup(k){return(n,s)=>(l(),f($,{chatId:"game-misheard-chat",chatTitle:"空耳挑战",defaultBg:"/HCproject2.0/bg/game-misheard-bg.jpg",avatarPath:"/HCproject2.0/avatar/game-misheard.jpg",mode:"game-misheard",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},dn={__name:"GameWordChat",setup(k){return(n,s)=>(l(),f($,{chatId:"game-word-chat",chatTitle:"字音快对",defaultBg:"/HCproject2.0/bg/game-word-bg.jpg",avatarPath:"/HCproject2.0/avatar/game-word.jpg",mode:"game-word",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},vn={__name:"CultureChat",setup(k){return(n,s)=>(l(),f($,{chatId:"culture-chat",chatTitle:"文化探索",defaultBg:"/HCproject2.0/bg/culture-bg.jpg",avatarPath:"/HCproject2.0/avatar/culture.jpg",mode:"culture",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},pn={__name:"DialectChat",setup(k){return(n,s)=>(l(),f($,{chatId:"dialect-chat",chatTitle:"方言探索",defaultBg:"/HCproject2.0/bg/dialect-bg.jpg",avatarPath:"/HCproject2.0/avatar/dialect.jpg",mode:"dialect",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},mn={__name:"SuperTranslateChat",setup(k){return(n,s)=>(l(),f($,{chatId:"super-translate-chat",chatTitle:"超能翻译",defaultBg:"/HCproject2.0/bg/super-translate-bg.jpg",avatarPath:"/HCproject2.0/avatar/super-translate.jpg",mode:"super-translate",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},gn={class:"screen quick-chat-screen",id:"quick-chat"},fn={class:"lefttop-container"},hn={class:"scroll-container"},kn={class:"chat-grid"},bn=["onClick"],Cn={class:"chat-icon"},yn={class:"chat-title"},_n={__name:"QuickChatScreen",setup(k){const n=[{type:"soul",title:"心灵空间",icon:"💌"},{type:"misheard",title:"空耳查询",icon:"🎧"},{type:"correction",title:"语言纠错",icon:"📝"},{type:"dialect",title:"方言探索",icon:"🗺️"},{type:"super-translate",title:"超能翻译",icon:"🚀"},{type:"culture",title:"文化探索",icon:"🎎"},{type:"game-misheard",title:"空耳挑战",icon:"🎮"},{type:"game-word",title:"字音快对",icon:"🔠"},{type:"stem",title:"科学世界",icon:"🧪"},{type:"dream-weaver",title:"梦境编织",icon:"🌌"},{type:"fantasy-master",title:"幻想世界",icon:"🌈"},{type:"glitch-space",title:"失控空间",icon:"🌀"},{type:"ln-factory",title:"小说工厂",icon:"📚"},{type:"proto-jin",title:"言灵世界",icon:"✨"},{type:"self-splitter",title:"拆解空间",icon:"✂️"},{type:"unconscious",title:"潜灵空间",icon:"👻"}];return(s,p)=>(l(),h("section",gn,[e("div",fn,[e("button",{class:"anime-btn",onClick:p[0]||(p[0]=i=>s.$emit("back"))},p[1]||(p[1]=[e("i",{class:"fas fa-arrow-left"},null,-1)]))]),e("div",hn,[e("div",kn,[(l(),h(A,null,O(n,(i,v)=>e("div",{key:v,class:"chat-item anime-btn",onClick:c=>s.$emit("select-chat",i.type)},[e("div",Cn,w(i.icon),1),e("div",yn,w(i.title),1)],8,bn)),64))])])]))}},wn=z(_n,[["__scopeId","data-v-0be8dd14"]]),$n={__name:"STEMChat",setup(k){return(n,s)=>(l(),f($,{chatId:"stem-chat",chatTitle:"科学世界",defaultBg:"/HCproject2.0/bg/stem-bg.jpg",avatarPath:"/HCproject2.0/avatar/stem.jpg",mode:"stem",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},jn={__name:"DreamWeaverChat",setup(k){return(n,s)=>(l(),f($,{chatId:"dream-weaver-chat",chatTitle:"梦境编织",defaultBg:"/HCproject2.0/bg/dream-tower-bg.jpg",avatarPath:"/HCproject2.0/avatar/dream-weaver.jpg",mode:"dream-weaver",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},Bn={__name:"FantasyChat",setup(k){return(n,s)=>(l(),f($,{chatId:"fantasy-master-chat",chatTitle:"幻想世界",defaultBg:"/HCproject2.0/bg/fantasy-world-bg.jpg",avatarPath:"/HCproject2.0/avatar/fantasy-master.jpg",mode:"fantasy-master",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},In={__name:"GlitchSpaceChat",setup(k){return(n,s)=>(l(),f($,{chatId:"glitch-space-chat",chatTitle:"失控空间",defaultBg:"/HCproject2.0/bg/glitch-space-bg.jpg",avatarPath:"/HCproject2.0/avatar/glitch-space.jpg",mode:"glitch-space",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},Tn={__name:"LNFactoryChat",setup(k){return(n,s)=>(l(),f($,{chatId:"ln-factory-chat",chatTitle:"小说工厂",defaultBg:"/HCproject2.0/bg/ln-factory-bg.jpg",avatarPath:"/HCproject2.0/avatar/ln-factory.jpg",mode:"ln-factory",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},Hn={__name:"ProtoJinChat",setup(k){return(n,s)=>(l(),f($,{chatId:"proto-jin-chat",chatTitle:"言灵世界",defaultBg:"/HCproject2.0/bg/language-essence-bg.jpg",avatarPath:"/HCproject2.0/avatar/proto-jin.jpg",mode:"proto-jin",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},Sn={__name:"SelfSplitterChat",setup(k){return(n,s)=>(l(),f($,{chatId:"self-splitter-chat",chatTitle:"拆解空间",defaultBg:"/HCproject2.0/bg/split-room-bg.jpg",avatarPath:"/HCproject2.0/avatar/self-splitter.jpg",mode:"self-splitter",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},xn={__name:"UnconsciousVisitorChat",setup(k){return(n,s)=>(l(),f($,{chatId:"unconscious-visitor-chat",chatTitle:"潜灵空间",defaultBg:"/HCproject2.0/bg/unconscious-bg.jpg",avatarPath:"/HCproject2.0/avatar/unconscious.jpg",mode:"unconscious",onBack:s[0]||(s[0]=p=>n.$emit("back"))}))}},Mn={__name:"App",setup(k){const n=g("welcome"),s=g({show:!1,message:""}),p=v=>{n.value=v};function i(v){s.value={show:!0,message:v},setTimeout(()=>s.value.show=!1,3e3)}return bt("showToast",i),(v,c)=>(l(),h(A,null,[te(ve,{name:"anime-fade-cross"},{default:ne(()=>[n.value==="welcome"?(l(),f(Gt,{onStart:c[0]||(c[0]=r=>n.value="group-discussion"),onQuickChat:c[1]||(c[1]=r=>n.value="quick-chat"),key:"welcome"})):n.value==="group-discussion"?(l(),f(tn,{key:1,onBack:c[2]||(c[2]=r=>n.value="welcome")})):n.value==="soul"?(l(),f(an,{key:2,onBack:c[3]||(c[3]=r=>n.value="quick-chat")})):n.value==="misheard"?(l(),f(nn,{key:3,onBack:c[4]||(c[4]=r=>n.value="quick-chat")})):n.value==="correction"?(l(),f(sn,{key:4,onBack:c[5]||(c[5]=r=>n.value="quick-chat")})):n.value==="game-misheard"?(l(),f(un,{key:5,onBack:c[6]||(c[6]=r=>n.value="quick-chat")})):n.value==="game-word"?(l(),f(dn,{key:6,onBack:c[7]||(c[7]=r=>n.value="quick-chat")})):n.value==="culture"?(l(),f(vn,{key:7,onBack:c[8]||(c[8]=r=>n.value="quick-chat")})):n.value==="dialect"?(l(),f(pn,{key:8,onBack:c[9]||(c[9]=r=>n.value="quick-chat")})):n.value==="super-translate"?(l(),f(mn,{key:9,onBack:c[10]||(c[10]=r=>n.value="quick-chat")})):n.value==="stem"?(l(),f($n,{key:10,onBack:c[11]||(c[11]=r=>n.value="quick-chat")})):n.value==="dream-weaver"?(l(),f(jn,{key:11,onBack:c[12]||(c[12]=r=>n.value="quick-chat")})):n.value==="fantasy-master"?(l(),f(Bn,{key:12,onBack:c[13]||(c[13]=r=>n.value="quick-chat")})):n.value==="glitch-space"?(l(),f(In,{key:13,onBack:c[14]||(c[14]=r=>n.value="quick-chat")})):n.value==="ln-factory"?(l(),f(Tn,{key:14,onBack:c[15]||(c[15]=r=>n.value="quick-chat")})):n.value==="proto-jin"?(l(),f(Hn,{key:15,onBack:c[16]||(c[16]=r=>n.value="quick-chat")})):n.value==="self-splitter"?(l(),f(Sn,{key:16,onBack:c[17]||(c[17]=r=>n.value="quick-chat")})):n.value==="unconscious"?(l(),f(xn,{key:17,onBack:c[18]||(c[18]=r=>n.value="quick-chat")})):n.value==="quick-chat"?(l(),f(wn,{key:18,onBack:c[19]||(c[19]=r=>n.value="welcome"),onSelectChat:p})):H("",!0)]),_:1}),s.value.show?(l(),f(cn,{key:0,message:s.value.message},null,8,["message"])):H("",!0)],64))}};Ct(Mn).mount("#app");
